<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="icon" type="image/x-icon" href="/assets/images/profile.png" />
    <title>خوشبختی</title>
    <link rel="manifest" href="./assets/js/manifest.json" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="assets/libs/fontawesome/all.css" />
    <link
      rel="stylesheet"
      href="assets/font/fontawesome/css/font-awesome.min.css"
    />
    <link rel="stylesheet" href="assets/css/style.css" />
    <link rel="stylesheet" href="assets/libs/scrollcue/scrollCue.css" />
  </head>
  <body>
    <div class="menu">
      <img src="assets/images/patern.png" />
      <i
        class="fa fa-times-circle-o close"
        aria-hidden="true"
        style="color: white"
      ></i>
      <ul>
        <li>
          <a href="https://">
            <i
              class="fa fa-user-circle-o"
              aria-hidden="true"
              style="color: #ff92a4"
            ></i>
            پروفایل من
          </a>
        </li>
        <li>
          <a href="https://">
            <i
              class="fa fa-user-circle-o"
              aria-hidden="true"
              style="color: #ffdd83"
            ></i>
            تنظیمات
          </a>
        </li>
        <li>
          <a href="question_form.html">
            <i
              class="fa fa-braille"
              aria-hidden="true"
              style="color: #4d50be"
            ></i>
            فرم روزانه
          </a>
        </li>
        <li>
          <a href="https://">
            <i
              class="fa fa-user-circle-o"
              aria-hidden="true"
              style="color: #409a34"
            ></i>
            گزارشات
          </a>
        </li>
        <li>
          <a href="login.html">
            <i
              class="fa fa-sign-out"
              aria-hidden="true"
              style="color: #c93939"
            ></i>
            خروج
          </a>
        </li>
      </ul>
    </div>
    <div class="web_container">
      <div class="header">
        <div
          class="header-top position-relative overflow-hidden"
          style="isolation: isolate"
        >
          <div class="icon-menu" data-cue="slideInRight">
            <i class="fa fa-th menu-btn" aria-hidden="true"></i>
          </div>
          <div class="profile" data-cue="slideInLeft">
            <img src="assets/images/user-icon.webp" />
          </div>
          <video
            src="assets/images/particles.mp4"
            loop
            muted
            autoplay
            class="w-100 position-absolute"
            style="mix-blend-mode: screen; z-index: -1"
          ></video>
        </div>
        <div class="header-bottom">
          <img src="assets/images/patern.png" />
          <h2 data-cue="slideInDown">تنظیم ساعت</h2>
          <h6 data-cue="slideInRight">
            ساعات اعلان تکمیل فرم روزانه را تنظیم کنید.
          </h6>
        </div>
      </div>
      <div class="information">
        <form
          method="post"
          action="#"
          class="web-body gap-4"
          style="align-content: start"
          data-cues="slideInLeft"
          data-group="items"
        >
          <div
            class="d-flex justify-content-center align-items-center gap-3 mt-5 w-100"
          >
            <div>از ساعت:</div>
            <div class="w-50">
              <input
                type="time"
                value="00:00"
                required
                id="from-time"
                oninvalid="setCustomError(this)"
                oninput="setCustomValidity(''); setMax(this.value)"
                class="form-control text-center"
                name=""
                id=""
              />
            </div>
          </div>
          <div
            class="d-flex justify-content-center align-items-center gap-3 w-100"
          >
            <div>تا ساعت:</div>
            <div class="w-50">
              <input
                type="time"
                required
                value="00:00"
                max="12:00"
                min="00:00"
                id="to-time"
                oninvalid="setCustomError(this)"
                oninput="setCustomValidity('')"
                class="form-control text-center"
                name=""
                id=""
              />
            </div>
          </div>
          <small class="col-8" style="text-align: justify"
            >راهنما: مابین ساعات مشخص شده، پیامکی جهت یادآوری تکمیل فرم
            روزانه‌تان ارسال خواهد شد.</small
          >
          <div class="buttons-container flex-wrap gap-3 mt-4 col-8">
            <input
              type="submit"
              class="btn bg-primary-color col-12"
              value="ذخیره"
            />
            <a href="/" class="btn btn-secondary col-12">انصراف</a>
          </div>
        </form>
      </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.7.1.min.js"
      integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
      crossorigin="anonymous"
    ></script>
    <script src="assets/libs/scrollcue/scrollCue.min.js"></script>

    <script>
      $(".menu-btn").click(function () {
        $(".menu").css("margin-right", "0%");
      });
      $(".close").click(function () {
        $(".menu").css("margin-right", "-250%");
      });

      function setCustomError(input) {
        if (input.validity.valueMissing) {
          input.setCustomValidity("این فیلد الزامی است");
        } else if (input.validity.rangeUnderflow) {
          input.setCustomValidity(
            "باید کمتر از 12 ساعت با ساعت اول فاصله اختلاف باشد"
          );
        } else if (input.validity.rangeOverflow) {
          input.setCustomValidity(
            "باید کمتر از 12 ساعت با ساعت اول فاصله اختلاف باشد"
          );
        } else if (
          input.validity.rangeOverflow ||
          input.validity.rangeUnderflow
        ) {
          input.setCustomValidity(
            "مقدار باید بین " + input.min + " و " + input.max + " باشد"
          );
        }
      }

      function setMax(value) {
        var time1 = value;
        var time1Parts = time1.split(":");
        var hours1 = parseInt(time1Parts[0]);
        var minutes1 = parseInt(time1Parts[1]);

        // Add 12 hours * minutes
        var totalMinutes1 = hours1 * 60 + minutes1;
        var totalMinutesMax = totalMinutes1 + 12 * 60;

        // convert to hours
        var maxHours = Math.floor(totalMinutesMax / 60) % 24;
        var maxMinutes = totalMinutesMax % 60;

        var resultHours = maxHours.toString().padStart(2, "0");
        var resultMinutes = maxMinutes.toString().padStart(2, "0");

        to_time = document.querySelector("#to-time");

        to_time.setAttribute("max", resultHours + ":" + resultMinutes);
        to_time.setAttribute("min", value);
      }

      scrollCue.init();
    </script>
  </body>
</html>
